<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="UTF-8"></meta>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"></meta>
        <title>Santa Marta Flowers S.A.S.</title>
        <link rel="shortcut icon" href="img/icono.png"></link>
        <link rel="stylesheet" href="css/bootstrap.css"></link>
        <link rel="stylesheet" href="css/all.min.css"></link>
        <link rel="stylesheet" href="css/brands.css"></link>
        <link rel="stylesheet" href="css/estilos.css"></link>
        <link rel="stylesheet" href="css/flags/flags.min.css"></link>
        <link href="css/primefaces-omega.css" rel="stylesheet" type="text/css"/>
    </h:head>
    <h:body>
        <!-- Regresar arriba -->
        <a id="regresar" href="#" class="btn btn-primary back-to-top" role="button" title="Regresar arriba" data-toggle="tooltip" data-placement="left">
            <span class="fa fa-arrow-up"></span>
        </a>

        <span data-toggle="modal" data-target="#modalLogin">
            <a id="checkout" href="#" class="btn btn-primary back-to-top" role="button" title="Comprar carrito" data-toggle="tooltip" data-placement="left">
                <span class="fas fa-shopping-cart"></span>
            </a>
        </span>
        <f:view locale="#{sessionController.idiomaSeleccionado}">
            <!-- Navegador -->
            <div data-spy="scroll" data-target="#navegador" data-offset="0" class="container">
                <nav id="navegador" class="navbar navbar-expand-lg navbar-light fixed-top">
                    <a class="navbar-brand js-scroll-trigger" id="logo" href="#"><img src="img/sm-logo.png" alt="Santa Marta Flowers S.A.S."></img></a>
                    <a class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </a>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item">
                                <a id="inicio" class="link-scroll nav-link js-scroll-trigger" href="#"><span class="sr-only">(current)</span>#{msjIndex.menuInicio}</a>
                            </li>
                            <li class="nav-item">
                                <a class="link-scroll nav-link js-scroll-trigger" href="#quienes-somos">#{msjIndex.menuQuienesSomos}</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link js-scroll-trigger dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#{msjIndex.menuProductos}</a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="link-scroll dropdown-item" href="#nuestras-flores">#{msjIndex.menuFlores}</a>
                                    <a class="link-scroll dropdown-item" href="#nuestros-arreglos">#{msjIndex.menuArreglos}</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <a class="link-scroll nav-link js-scroll-trigger" href="#contactanos">#{msjIndex.menuContacto}</a>
                            </li>
                        </ul>
                        <ul class="navbar-nav my-2 my-sm-0" style="padding-right: 1rem">
                            <li class="nav-item active mr-auto">
                                <h:form id="form-logout" prependId="false">
                                    <c:forEach items="#{sessionController.idiomasSoportados}" var="idioma">
                                        <h:commandLink actionListener="#{sessionController.cambiarIdioma(idioma)}"><img src="Archivos/#{msjApp[idioma.language]}.png"  width="18px" /></h:commandLink>
                                    </c:forEach>
                                </h:form>
                            </li>
                        </ul>
                        <ul class="navbar-nav my-4 my-sm-0">
                            <li class="nav-item active">
                                <button type="button" class="btn boton-ingreso" data-toggle="modal" data-target="#modalLogin">#{msjIndex.ingresar}</button>
                            </li>
                        </ul>
                    </div>
                </nav>
                <!-- Carrusel -->
                <div id="carruselFlores" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carruselFlores" data-slide-to="0" class="active"></li>
                        <li data-target="#carruselFlores" data-slide-to="1"></li>
                        <li data-target="#carruselFlores" data-slide-to="2"></li>
                        <li data-target="#carruselFlores" data-slide-to="3"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carrusel-1 carousel-item active">
                            <c:if test="#{sessionController.idiomaPorDefecto == sessionController.idiomaSeleccionado}">                                           
                                <img src="img/banner_flores.jpg" class="d-block w-100" alt="..."/>
                            </c:if>
                            <c:if test="#{!(sessionController.idiomaPorDefecto == sessionController.idiomaSeleccionado)}">                                           
                                <img src="img/banner_flores_en.jpg" class="d-block w-100" alt="..."/>
                            </c:if>
                        </div>
                        <div class="carousel-item">
                            <img src="img/japanese-cherry-trees-324175_1920.jpg" class="d-block w-100" alt="..."></img>
                        </div>
                        <div class="carousel-item">
                            <img src="img/butterfly-1127666_1920.jpg" class="d-block w-100" alt="..."></img>
                        </div>
                        <div class="carousel-item">
                            <img src="img/flower-field-250016_1920.jpg" class="d-block w-100" alt="..."></img>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carruselFlores" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carruselFlores" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                <div id="quienes-somos" class="row titulo">
                    <div class="col text-center">
                        <h2 class="text-white">#{msjIndex.menuQuienesSomos}</h2>
                    </div>
                </div>
                <div class="col texto">
                    <p>#{msjIndex.quienesSomosUno}</p>
                    <p>#{msjIndex.quienesSomosDos}</p>
                </div>
                <!-- Catálogo -->
                <div id="#nuestros-productos" class="row titulo">
                    <div class="col text-center">
                        <h2 class="text-white">#{msjIndex.menuProductos}</h2>
                    </div>
                </div>
                <!-- Cards -->
                <div id="nuestras-flores" class="card-group">
                    <div class="card">
                        <img class="card-img-top" src="img/rosas.jpg" alt="Rosas"></img>
                        <div class="card-body">
                            <h5 class="card-title">#{msjIndex.productoRosas}</h5>
                            <p class="card-text">#{msjIndex.descripcionRosas}</p>
                            <p class="card-text"><small class="text-muted">#{msjIndex.colores}</small></p>
                        </div>
                    </div>
                    <div class="card">
                        <img class="card-img-top" src="img/girasol.png" alt="Orquídeas"></img>
                        <div class="card-body">
                            <h5 class="card-title">#{msjIndex.productoGirasol}</h5>
                            <p class="card-text">#{msjIndex.descripcionGirasol}</p>
                            <p class="card-text"><small class="text-muted"></small></p>
                        </div>
                    </div>
                    <div class="card">
                        <img class="card-img-top" src="img/orquidea.png" alt="Girasoles"></img>
                        <div class="card-body">
                            <h5 class="card-title">#{msjIndex.productoOrquideas}</h5>
                            <p class="card-text">#{msjIndex.descripcionOrquideas}</p>
                            <p class="card-text"><small class="text-muted">#{msjIndex.colores}</small></p>
                        </div>
                    </div>
                </div>
                <div id="nuestros-arreglos" class="card mb-3">
                    <div id="carrusel-arreglos" class="carousel slide card-img-top">
                        <ol class="carousel-indicators">
                            <li data-target="#carrusel-arreglos" data-slide-to="0" class="active"></li>
                            <li data-target="#carrusel-arreglos" data-slide-to="1"></li>
                            <li data-target="#carrusel-arreglos" data-slide-to="2"></li>
                            <li data-target="#carrusel-arreglos" data-slide-to="3"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="img/arreglo-0.png" alt="Arreglo 1" class="d-block w-100"></img>
                            </div>
                            <div class="carousel-item">
                                <img src="img/arreglo-1.png" alt="Arreglo 2" class="d-block w-100"></img>
                            </div>
                            <div class="carousel-item">
                                <img src="img/daisy-1346049_1920.jpg" alt="Arreglo-3" class="d-block w-100"></img>
                            </div>
                            <div class="carousel-item">
                                <img src="img/arreglo-3.png" alt="Arreglo-4" class="d-block w-100"></img>
                            </div>
                        </div>
                        <a href="#carrusel-arreglos" class="carousel-control-prev" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Anterior</span>
                        </a>
                        <a href="#carrusel-arreglos" class="carousel-control-next" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Siguiente</span>
                        </a>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">#{msjIndex.menuArreglos}</h5>
                        <p class="card-text">#{msjIndex.descripcionArreglos}</p>
                        <a href="#" class="btn boton-registro" data-toggle="modal" data-target=".modal-catalogo">#{msjIndex.botonArreglos}</a>
                    </div>
                </div>
                <div id="contactanos" class="row titulo">
                    <div class="col text-center">
                        <h2 class="text-white">#{msjIndex.menuContacto}</h2>
                    </div>
                </div>
                <div class="jumbotron jumbotron-fluid">
                    <h1 class="display-4">#{msjIndex.aSuServicio}</h1>
                    <p class="lead">#{msjIndex.descripcionContacto}</p>
                    <hr class="my-4"></hr>
                    <p>#{msjIndex.mediosContacto}</p>
                    <a href="https://www.facebook.com/" class="btn boton-contacto btn-lg"><i class="fab fa-facebook-square"></i> Facebook</a>
                    <a href="https://twitter.com/" class="btn boton-contacto btn-lg"><i class="fab fa-twitter-square"></i> Twitter</a>
                    <a href="https://instagram.com/" class="btn boton-contacto btn-lg"><i class="fab fa-instagram"></i> Instagram</a>
                    <a href="mailat:feehernandezba@gmail.com" class="btn boton-contacto btn-lg"><i class="fas fa-at"></i> Email</a>
                    <hr class="my-4"></hr>
                    <div class="row">
                        <div class="col-12">
                            <div class="mapa embed-responsive embed-responsive-16by9">
                                <iframe class="embed-responsive-item" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.677608537859!2d-74.06440884750967!3d4.65146530043949!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9a45d9f1654b%3A0x3d69138572d157f2!2sSENA+-+Centro+De+Servicios+Financieros!5e0!3m2!1ses!2sco!4v1554983845777!5m2!1ses!2sco" allowfullscreen="true"></iframe>
                            </div>
                        </div>
                    </div>
                    <hr class="my-4"></hr>
                    <p>2019 ©iframework. #{msjIndex.copyright}</p>
                </div>
            </div>
            <!-- Modal del catálogo -->
            <div class="modal fade modal-catalogo" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalScrollableTitle">#{msjIndex.modalCatalogo}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <h:form>
                                <c:forEach items="#{productoControlador.listar()}" var="p">
                                    <div class="card mb-2" style="max-width: 540px; height: 15rem; display: inline-block; overflow: hidden; margin-right: 0.6rem;" >
                                        <div class="row no-gutters">
                                            <div class="col-md-4">
                                                <img src="#{p.foto}" class="card-img" style="overflow: hidden; object-fit: cover;" height="150%" alt="..." />
                                            </div>
                                            <div class="col-md-8">
                                                <div class="card-body">
                                                    <h5 class="card-title">#{p.nombreProducto}</h5>
                                                    <p class="card-text">#{p.descripcion}</p>
                                                    <c:if test="#{!(p.existencias eq 0)}">
                                                        <p class="card-text">
                                                            <small class="text-muted">
                                                                #{msjIndex.disponible}
                                                            </small>
                                                        </p>
                                                        <h:commandLink onclick="botonCarrito()" action="#{pedidoControlador.agregarAlCarrito(p)}" class="btn boton-ingreso btn-sm">
                                                            <f:ajax execute="@form" render="@none" />
                                                            <i class="fas fa-cart-plus"></i> #{msjIndex.agregarCarrito}
                                                        </h:commandLink>
                                                    </c:if>
                                                    <c:if test="#{p.existencias eq 0}">
                                                        <p class="card-text">
                                                            <small class="text-muted">
                                                                #{msjIndex.agotada}
                                                            </small>
                                                        </p>
                                                        <button class="btn boton-ingreso btn-sm" disabled="true"><i class="fas fa-cart-plus"></i> #{msjIndex.agregarCarrito}</button>
                                                    </c:if>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </c:forEach>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal del login -->
            <div class="modal fade" id="modalLogin" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">#{msjIndex.iniciarSesion}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <h:form>
                            <f:view>
                                <div class="modal-body cuerpo-modal">
                                    <div class="form-row">
                                        <h:outputLabel value="E-mail" />
                                        <h:inputText class="form-control mr-sm-2" pt:placeholder="#{msjIndex.email}" id="txtCorreo" value="#{usuarioControlador.usuario.email}" />
                                    </div>
                                    <br />
                                    <div class="form-row">
                                        <h:outputLabel value="Password" />
                                        <h:inputText pt:type="password" class="form-control mr-sm-2" pt:placeholder="#{msjIndex.password}" id="txtPassword" value="#{usuarioControlador.usuario.password}" />
                                    </div>
                                </div>
                                <div class="modal-footer" style="text-align: left">
                                    <h:commandButton action="#{usuarioControlador.validarLogin()}" class="btn boton-ingreso" value="#{msjIndex.iniciarSesion}" />
                                    <button class="btn btn-info btn-sm" data-toggle="modal" data-target="#modalPassword" data-dismiss="modal">#{msjIndex.cambiarPassword}</button>
                                </div>
                            </f:view>
                        </h:form>
                    </div>
                </div>
            </div>
            <!-- Modal de recuperar contraseña -->
            <div class="modal fade" id="modalPassword" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">#{msjIndex.nuevaPassword}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <h:form>
                            <p:growl id="growl" showDetail="true" />  
                            <f:view>
                                <div class="modal-body cuerpo-modal">
                                    <div class="form-row">
                                        <p>#{msjIndex.ingresaCorreo}</p>
                                        <h:inputText class="form-control mr-sm-2" pt:placeholder="#{msjIndex.email}" id="txtCorreo" value="#{usuarioControlador.usuario.email}" />
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <p:commandButton value="#{msjIndex.nuevaPassword}" action="#{usuarioControlador.nuevoPassword()}" pt:data-dismiss="modal" update="@form" />
                                </div>
                            </f:view>
                        </h:form>
                    </div>
                </div>
            </div>
        </f:view>
        <script src="js/jquery-3.4.1.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" type="text/javascript"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="js/main.js" type="text/javascript"></script>
    </h:body>
</html>

